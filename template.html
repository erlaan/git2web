<!DOCTYPE html>
<html ng-app="git2web">
  <head>

    <link rel="stylesheet" type="text/css" href="html/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="html/css/custom.css">
    <script src="html/js/angular.js"></script>
    <script src="html/js/prototype.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8" >

    <title ng-controller="repoCtrl as repo">{{ repo.projectName }}</title>

  </head>
  <body>

    <div ng-controller="repoCtrl as repo" class="container-fluid">
      <nav class="navbar navbar-default">
	<!-- This is the headcontainer. -->
	<div class="navbar-header">
	  <a class="navbar-brand" href="#">{{ repo.projectName }}</a>
	</div>

	<form class="navbar-form navbar-right" role="search">
          <div class="form-group" id="pright">
            <input type="text" ng-model="repo.repository" class="form-control" placeholder="Search">
         </div>
      	</form>


	<!-- :TODO: Add a dropdown menu for selecting the different branches -->
      </nav>

      <div class="row" ng-hide="repo.selected(repo.repository)">

	
	
	<button type="button">Tryck inte p√• mig! </button>

      </div>

      <div class="row" ng-show="repo.selected(repo.repository)">

	<!--This is the Left containern. -->
	<div class="col-xs-12 col-md-6">
	  <table class="table table-striped">
	    <thead>
	      <th>Message</th>
	      <th>Commit</th>
	      <th>Author</th>
	    </thead>
	    <tbody>
	      <tr ng-click="repo.displayNewCommit(hash)" ng-repeat="(hash, commit) in repo.commits">
		<div>
		  <td>{{commit.message}}</td>
		  <td><code>{{hash}}</code></td>
		  <td>{{commit.author}}</td>
		</div>
	      </tr>
	    </tbody>
	  </table>
	  <hr>
	</div>

	<!-- THis is the Right container. -->
	<div ng-show="repo.selected(repo.hash)" class="col-xs-12 col-md-6">
	  <!-- :TODO: Add a header here for the commit, with overall data like
	       total amount of lines deleted or inserted, parent commit
	       commit id, commit message, author & date??! -->
	  <!-- This is the commit metadata container -->
	  <div ng-repeat="meta in repo.commitMetadata" class="diff">
	    <dl class="dl-horizontal">
	      <dt><code>{{ meta.filename }}</code></dt>
	      <dd>
		<span class="label label-danger">{{ "-" + meta.deletions }}</span>
		<span class="label label-success">{{ "+" +  meta.insertions }}</span>
	      </dd>
	    </dl>
	    <div class="clearfix"></div>
	    <pre>{{ meta.patch }}</pre>
	    <hr>
	  </div>
	</div> <!-- /right container -->

      </div> <!-- /row -->
    </div>
  </body>
</html>
